---
layout: post
title: 开发中遇到的坑爹事
category: 学习
---

#### 关于百度UEditor公式插件的坑——2016-04-13

因为项目中某些功能需要用到插入公式，所以就去看了下 [百度UEditor公式插件](http://ueditor.baidu.com/website/kityformula.html)。按照官网上的demo引入到现有项目后发现报错:

    Uncaught TypeError: target.node.getTransformToElement is not a function

>感谢[@kanpiaoxue](http://kanpiaoxue.iteye.com/blog/2278719)提供的博文.  

小小的吐槽下插件作者居然不去优化

这是因为Chrome V.48版本后移除了`SVGElement.getTransformToElement`函数,而导致在Chrome V.48及以上版本使用该插件会报错，只需要在插件根目录下的`kityFormulaDialog.html`文件中引入以下代码:  

    SVGElement.prototype.getTransformToElement = SVGElement.prototype.getTransformToElement || function(toElement) {
        return toElement.getScreenCTM().inverse().multiply(this.getScreenCTM());
    };

引入以后就可以尽情的玩耍了！

---

#### 某个神奇的config.js——2016-04-12

今天在改某个`config.js`的时候，刷新浏览器发现并没有变化，我第一反映就是有缓存，默默的清掉了浏览器缓存后再刷新。这时神奇的事情发生了，文件居然还是没有改变！！！  
然后我就纠结了一阵，后面发现Chrome浏览器的清除指定时间段内的数据被设置成了...  

**过去一小时！！！**

**过去一小时！！！**

**过去一小时！！！**  

无力吐槽自己了~  
下次再遇到那么灵异的事情果断会淡定了。  
如果方便的情况下还是默默的在文件后面加版本号吧！
